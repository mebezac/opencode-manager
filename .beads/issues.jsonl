{"id":"opencode-manager-d5b","title":"Add plugin field support to OpenCodeConfigSchema","description":"When users add \"plugin\": [\"opencode-beads\"] to their OpenCode config, it gets stripped on restart because the field is not defined in the schema.\n\nRoot Cause: The OpenCodeConfigSchema in /workspace/repos/opencode-manager/shared/src/schemas/settings.ts doesn't include the plugin field, so Zod's .parse() strips unknown fields.\n\nFix Needed: Add plugin: z.array(z.string()).optional() to the OpenCodeConfigSchema.\n\nAcceptance Criteria:\n1. The plugin field should be added to OpenCodeConfigSchema in shared/src/schemas/settings.ts\n2. The field should be optional array of strings: plugin: z.array(z.string()).optional()\n3. When users add plugin config, it should persist after restart\n4. Test that the schema accepts the plugin field","status":"closed","priority":1,"issue_type":"feature","owner":"opencode@laboratory.casa","created_at":"2026-02-02T04:21:33.205819678Z","created_by":"unknown","updated_at":"2026-02-02T05:47:30.580640114Z","closed_at":"2026-02-02T05:47:30.580640114Z","close_reason":"Completed in commit d40be8d and released in v1.2.1"}
{"id":"opencode-manager-m5l","title":"Fix multi-token git authentication causing Duplicate header: Authorization errors","description":"When multiple GitHub PATs are configured in OpenCode Manager settings, the backend sets GIT_CONFIG_KEY_* and GIT_CONFIG_VALUE_* environment variables globally. These add Authorization headers for all git operations to github.com. When multiple credentials exist, multiple headers are added, causing the 'Duplicate header: Authorization' error.\n\n**Root Cause:**\nIn backend/src/services/opencode-single-server.ts at line 117, createGitEnv() creates env vars with multiple Authorization headers, then at line 130-131 these are spread into the spawned OpenCode server's environment. However, these env vars are leaking into the parent shell environment.\n\n**Files to examine:**\n- backend/src/services/opencode-single-server.ts (lines 117-138)\n- backend/src/utils/git-auth.ts (lines 41-69, specifically createGitEnv)\n\n**Potential fixes:**\n1. Don't use GIT_CONFIG_KEY_* approach - instead use a different method like .gitconfig or credential helper\n2. Only set these env vars for specific git operations, not globally\n3. Create a wrapper that isolates the env vars\n4. Document the workaround for users\n\n**Acceptance criteria:**\n1. Users can run git push, git pull, etc. from command line without Duplicate header errors\n2. The OpenCode server still works correctly with multiple credentials\n3. Per-repo credential selection continues to work\n4. Solution doesn't break existing functionality","status":"closed","priority":0,"issue_type":"bug","owner":"opencode@laboratory.casa","created_at":"2026-02-02T05:36:43.277962189Z","created_by":"unknown","updated_at":"2026-02-02T16:47:01.003921996Z","closed_at":"2026-02-02T16:47:01.003921996Z","close_reason":"Released in v1.2.2: https://github.com/mebezac/opencode-manager/releases/tag/v1.2.2"}
{"id":"opencode-manager-pcz","title":"Fix command dialog not loading existing values when editing","description":"In `/workspace/repos/opencode-manager/frontend/src/components/settings/CommandDialog.tsx`, when you click \"Edit\" on an existing command, the dialog opens but all fields appear empty instead of showing the existing values.\n\n**Root Cause**: The form is initialized once with `defaultValues` that use `editingCommand`, but when `editingCommand` changes (user clicks edit), the form doesn't automatically update because `defaultValues` are only set at mount time.\n\n**Fix Needed**: Use `useEffect` to reset the form when `editingCommand` changes.","acceptance_criteria":"1. When clicking \"Edit\" on an existing command, the dialog should show the current values (template, description, agent, model, etc.)\n2. The name field should be disabled (as it already is)\n3. Form should reset when dialog closes","status":"closed","priority":1,"issue_type":"bug","owner":"opencode@laboratory.casa","created_at":"2026-02-02T04:21:26.395011297Z","created_by":"unknown","updated_at":"2026-02-02T05:47:30.796450514Z","closed_at":"2026-02-02T05:47:30.796450514Z","close_reason":"Completed in commit 51fb5c7 and released in v1.2.1"}
